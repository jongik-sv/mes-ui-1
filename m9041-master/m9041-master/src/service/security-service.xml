<?xml version="1.0" encoding="UTF-8"?>
<service name="security-service" initial="GetPlantCode">
  <transaction-manager id="tx1" commit="true" />
  <activity name="Router" class="com.posdata.glue.biz.activity.PosDefaultRouter">
    <transition name="login" value="end" />
    <transition name="menu" value="GetRootMenuInfo" />
    <transition name="success" value="GetRootMenuInfo" />
  </activity>
  <activity name="GetPlantCode" class="com.posdata.glue.mes.activity.PlantCode">
    <transition name="success" value="GetUserInfo" />
  </activity>
  <activity name="GetMenuInfo" class="com.posdata.glue.web.security.PosMesGetMenuInfo">
    <transition name="success" value="end" />
    <property name="dao" value="m90dao" />
  </activity>
  <activity name="GetRootMenuInfo" class="com.posdata.glue.biz.activity.PosSearch">
    <transition name="success" value="GetMenuInfo" />
    <property name="sqlkey" value="glue_security.root.menu" />
    <property name="resultkey" value="root_menu" />
    <property name="dao" value="m90dao" />
    <property name="param0" value="user_id" />
    <property name="param1" value="plantCode" />
    <property name="param2" value="plantCode" />
    <property name="param-count" value="3" />
  </activity>
  <activity name="GetUserInfo" class="com.posdata.glue.biz.activity.PosSearch">
    <transition name="success" value="Router" />
    <property name="sqlkey" value="glue_security.user.info" />
    <property name="resultkey" value="glue_user_info" />
    <property name="dao" value="m90dao" />
    <property name="param0" value="user_id" />
    <property name="param1" value="plantCode" />
    <property name="param-count" value="2" />
  </activity>
</service>

