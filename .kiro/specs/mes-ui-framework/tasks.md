# MES UI 프레임워크 구현 계획

## 개요

본 문서는 MES UI 프레임워크의 설계 문서를 기반으로 한 구체적인 구현 작업 계획입니다. 각 작업은 테스트 주도 개발(TDD) 방식으로 진행되며, 점진적이고 증분적인 개발을 통해 안정적인 시스템을 구축합니다.

## 구현 작업 목록

- [x] 1. 프로젝트 기반 구조 설정 및 개발 환경 구축



  - Vue.js 3 + Vite + TypeScript 프로젝트 초기화
  - PrimeVue, Pinia, Vue Router 등 핵심 라이브러리 설치 및 설정
  - ESLint, Prettier, Vitest 개발 도구 설정
  - 프로젝트 폴더 구조 생성 및 기본 파일 구성
  - _요구사항: 1.1, 1.2, 1.3_

- [-] 2. 테마 시스템 및 디자인 토큰 구현



- [x] 2.1 다크 테마 CSS 변수 시스템 구축

  - ✅ CSS 커스텀 프로퍼티로 색상, 타이포그래피, 간격 시스템 정의
  - ✅ 라이트/다크 테마 전환 기능 구현
  - ✅ 테마 관리 컴포저블 작성 및 테스트
  - ✅ useTheme 테스트 오류 수정 완료 (auto 모드 시스템 테마 감지 개선)
  - _요구사항: 10.1, 10.2_

- [-] 2.2 타이포그래피 및 아이콘 시스템 구현



  - Pretendard 폰트 및 JetBrains Mono 폰트 적용
  - 폰트 크기 체계 및 라인 높이 설정
  - Lucide React 아이콘 라이브러리 통합 및 MES 특화 아이콘 매핑
  - _요구사항: 10.2, 10.3_

- [-] 3. 기본 레이아웃 시스템 구현
- [-] 3.1 메인 레이아웃 컴포넌트 생성
  - CSS Grid 기반 전체 레이아웃 구조 구현
  - 헤더, 툴바, 메뉴, 콘텐츠 영역 기본 틀 작성
  - 반응형 브레이크포인트 설정 및 테스트
  - _요구사항: 2.1, 2.2, 8.1, 8.2, 8.3_

- [ ] 3.2 반응형 레이아웃 동작 구현
  - 데스크톱/태블릿/모바일 화면별 레이아웃 변경 로직
  - 툴바 햄버거 메뉴 전환 기능
  - 메뉴 트리 오버레이/전체화면 모드 구현
  - _요구사항: 2.2, 8.3_

- [ ] 4. 헤더 컴포넌트 구현
- [ ] 4.1 헤더 기본 구조 및 레이아웃 구현
  - 헤더 컴포넌트 기본 틀 작성 (60px 고정 높이)
  - 좌측 영역(전체 메뉴, 회사 CI) 및 우측 영역(사용자 정보, 연락처, 원격) 레이아웃
  - 헤더 컴포넌트 단위 테스트 작성
  - _요구사항: 3.1, 3.3_

- [ ] 4.2 전체 메뉴 아이콘 및 모달 시스템 구현
  - 전체 메뉴 아이콘(≡) 버튼 컴포넌트 작성
  - 전체 메뉴 모달 다이얼로그 구현 (90vw x 90vh)
  - 검색창, 전체보기/즐겨찾기 토글 기능 구현
  - 좌측 카테고리, 우측 메뉴 트리 레이아웃 구현
  - _요구사항: 3.2_

- [ ] 4.3 사용자 정보 드롭다운 메뉴 구현
  - 아바타 + 소속명 + 사용자명 표시 컴포넌트
  - 드롭다운 메뉴 (사용자 설정, 메시지함, 로그아웃) 구현
  - 사용자 상태 관리 Pinia 스토어 작성
  - _요구사항: 3.4_

- [ ] 4.4 담당자 연락처 및 원격요청 기능 구현
  - 담당자 연락처 팝업 컴포넌트 구현
  - MES/APS/기타 부서별 연락처 데이터 구조 및 표시
  - 원격요청 외부 링크 연결 기능 (http://www.ezh.kr/notice.html)
  - _요구사항: 3.5, 3.6_

- [ ] 5. 툴바 컴포넌트 구현
- [ ] 5.1 툴바 기본 구조 및 아이콘 시스템 구현
  - 좌측 세로 배치 툴바 컴포넌트 (80px 고정 너비)
  - 대단위 업무별 아이콘 데이터 구조 및 렌더링
  - 툴바 아이콘 컴포넌트 및 단위 테스트 작성
  - _요구사항: 4.1_

- [ ] 5.2 툴바 인터랙션 및 애니메이션 구현
  - 90도 회전 호버 애니메이션 구현
  - 한글명 툴팁 시스템 구현
  - 활성 상태 시각적 표시 및 상태 관리
  - 클릭 시 메뉴 트리 펼침/접힘 토글 기능
  - _요구사항: 4.1, 4.2_

- [ ] 5.3 툴바 반응형 처리 구현
  - 데스크톱에서 항상 표시 모드
  - 모바일/태블릿에서 햄버거 메뉴로 전환
  - 반응형 상태에 따른 툴바 표시/숨김 로직
  - _요구사항: 4.3_

- [ ] 6. 메뉴 트리 컴포넌트 구현
- [ ] 6.1 트리 데이터 구조 및 상태 관리 구현
  - 5단계 계층형 메뉴 데이터 구조 정의 (TreeNode 인터페이스)
  - 메뉴 트리 상태 관리 Pinia 스토어 작성
  - 펼침/접힘 상태 추적 및 관리 로직
  - _요구사항: 5.1, 5.2_

- [ ] 6.2 트리 렌더링 및 인터랙션 구현
  - PrimeVue Tree 컴포넌트 기반 메뉴 트리 렌더링
  - 노드 펼침/접힘 이벤트 처리
  - 전체 펼침/접기 버튼 기능 구현
  - 메뉴 선택 시 탭 생성 연동 로직
  - _요구사항: 5.2, 5.3_

- [ ] 6.3 메뉴 검색 및 즐겨찾기 기능 구현
  - 메뉴 텍스트 기반 검색 필터링 기능
  - 검색 결과 하이라이팅 및 네비게이션
  - 즐겨찾기 토글 기능 및 별표(★) 표시
  - 사용자별 즐겨찾기 데이터 저장/복원
  - _요구사항: 5.2_

- [ ] 7. 탭 시스템 구현
- [ ] 7.1 탭 기본 구조 및 관리 시스템 구현
  - 탭 데이터 구조 정의 (Tab 인터페이스)
  - 탭 상태 관리 Pinia 스토어 작성
  - 홈 탭 고정 처리 및 일반 탭 생성/삭제 로직
  - 탭 활성화 및 전환 기능 구현
  - _요구사항: 6.1, 6.2, 6.3_

- [ ] 7.2 탭 바 UI 및 인터랙션 구현
  - 탭 바 레이아웃 및 스타일링 (45px 높이)
  - 탭 닫기 버튼 (X) 기능 구현
  - 드래그앤드롭 탭 순서 변경 기능
  - 활성 탭 자동 스크롤 및 시각적 표시
  - _요구사항: 6.3_

- [ ] 7.3 탭 오버플로우 처리 및 스크롤 구현
  - 탭 너비 계산 및 오버플로우 감지 로직
  - 좌우 화살표 버튼 스크롤 기능
  - 모바일에서 스와이프 제스처 지원
  - 탭 스크롤 애니메이션 및 성능 최적화
  - _요구사항: 6.4_

- [ ] 8. 콘텐츠 영역 및 iframe 관리 시스템 구현
- [ ] 8.1 iframe 기반 콘텐츠 로딩 시스템 구현
  - TabContentManager 클래스 구현
  - iframe 동적 생성 및 URL 로딩 기능
  - iframe 표시/숨김 전환 로직
  - 페이지 로딩 상태 및 에러 처리
  - _요구사항: 7.1, 7.2_

- [ ] 8.2 탭 상태 보존 및 메모리 관리 구현
  - iframe 상태 보존 메커니즘 구현
  - 탭 메타데이터 저장/복원 기능
  - 메모리 사용량 최적화 및 가비지 컬렉션
  - 비활성 탭 메모리 관리 전략 구현
  - _요구사항: 7.2_

- [ ] 8.3 홈 탭 대시보드 구현
  - 카드 형태 대시보드 레이아웃 구현
  - 주요 지표 표시 컴포넌트 작성
  - 자주 사용하는 메뉴 및 최근 사용 메뉴 표시
  - MES 공지사항 표시 영역 구현
  - _요구사항: 6.2_

- [ ] 9. 상태 관리 및 데이터 플로우 구현
- [ ] 9.1 Pinia 스토어 통합 및 상태 관리 구현
  - 사용자 상태 스토어 (UserStore) 구현
  - 메뉴 상태 스토어 (MenuStore) 구현
  - 탭 상태 스토어 (TabStore) 구현
  - 테마 상태 스토어 (ThemeStore) 구현
  - _요구사항: 전체 시스템 연동_

- [ ] 9.2 컴포넌트 간 데이터 통신 구현
  - 이벤트 버스 또는 provide/inject 패턴 구현
  - 메뉴 선택 → 탭 생성 데이터 플로우
  - 툴바 클릭 → 메뉴 트리 표시 연동
  - 전역 상태 변경 시 컴포넌트 반응성 구현
  - _요구사항: 전체 시스템 연동_

- [ ] 10. 성능 최적화 및 에러 처리 구현
- [ ] 10.1 성능 최적화 구현
  - 컴포넌트 지연 로딩 (Lazy Loading) 적용
  - 가상 스크롤링 (Virtual Scrolling) 구현
  - 메모이제이션 및 불필요한 리렌더링 방지
  - 번들 크기 최적화 및 코드 스플리팅
  - _요구사항: 1.3 (성능 목표)_

- [ ] 10.2 에러 처리 및 로깅 시스템 구현
  - 전역 에러 핸들러 구현
  - 컴포넌트 에러 바운더리 구현
  - 네트워크 에러 처리 및 재시도 로직
  - 사용자 친화적 에러 메시지 표시
  - _요구사항: 안정성 및 사용자 경험_

- [ ] 11. 테스트 코드 작성 및 품질 보증
- [ ] 11.1 단위 테스트 작성
  - 모든 컴포넌트에 대한 Vitest 단위 테스트 작성
  - 스토어 로직 테스트 작성
  - 유틸리티 함수 테스트 작성
  - 테스트 커버리지 80% 이상 달성
  - _요구사항: 코드 품질 보증_

- [ ] 11.2 통합 테스트 및 E2E 테스트 작성
  - 컴포넌트 간 상호작용 테스트 작성
  - 사용자 시나리오 기반 E2E 테스트 (Cypress)
  - 성능 테스트 및 메모리 누수 테스트
  - 크로스 브라우저 호환성 테스트
  - _요구사항: 1.3, 9.1, 9.2_

- [ ] 12. 문서화 및 배포 준비
- [ ] 12.1 개발자 문서 작성
  - 컴포넌트 API 문서 작성
  - 스토어 사용 가이드 작성
  - 개발 환경 설정 가이드 작성
  - 코드 스타일 가이드 작성
  - _요구사항: 개발 효율성_

- [ ] 12.2 사용자 가이드 및 배포 설정
  - 사용자 매뉴얼 작성
  - 빌드 및 배포 스크립트 작성
  - 환경별 설정 파일 구성
  - 프로덕션 최적화 설정 적용
  - _요구사항: 운영 준비_

## 구현 우선순위

### Phase 1: 기반 구조 (1-2주)
- 작업 1: 프로젝트 기반 구조 설정
- 작업 2: 테마 시스템 구현
- 작업 3: 기본 레이아웃 시스템 구현

### Phase 2: 핵심 컴포넌트 (3-8주)
- 작업 4: 헤더 컴포넌트 구현
- 작업 5: 툴바 컴포넌트 구현
- 작업 6: 메뉴 트리 컴포넌트 구현

### Phase 3: 탭 시스템 (9-10주)
- 작업 7: 탭 시스템 구현
- 작업 8: 콘텐츠 영역 및 iframe 관리 구현

### Phase 4: 통합 및 최적화 (11-12주)
- 작업 9: 상태 관리 및 데이터 플로우 구현
- 작업 10: 성능 최적화 및 에러 처리 구현
- 작업 11: 테스트 코드 작성
- 작업 12: 문서화 및 배포 준비

## 완료 기준

각 작업의 완료는 다음 기준을 모두 만족해야 합니다:

1. **기능 완성**: 요구사항에 명시된 모든 기능이 정상 동작
2. **테스트 통과**: 해당 작업의 단위 테스트 및 통합 테스트 통과
3. **코드 리뷰**: 팀 내 코드 리뷰 완료 및 승인
4. **문서화**: 컴포넌트 API 문서 및 사용 가이드 작성
5. **성능 기준**: 설계 문서의 성능 목표 달성

## 위험 요소 및 대응 방안

1. **iframe 성능 이슈**: 가상 스크롤링 및 지연 로딩으로 대응
2. **복잡한 상태 관리**: 단계적 구현 및 철저한 테스트로 대응
3. **브라우저 호환성**: 폴리필 적용 및 기능 감지 로직으로 대응
4. **성능 목표 미달성**: 지속적인 성능 모니터링 및 최적화로 대응

이 구현 계획을 통해 체계적이고 안정적인 MES UI 프레임워크를 개발할 수 있습니다.